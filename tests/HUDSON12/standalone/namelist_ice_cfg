!!>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
!! NANUQ configuration namelist: Overwrites SHARED/namelist_ice_ref
!!              1 - Generic parameters                 (nampar)
!!              2 - Ice thickness discretization       (namitd)
!!              3 - Ice dynamics                       (namdyn)
!!              4 - Ice ridging/rafting                (namdyn_rdgrft)
!!              5 - Ice rheology                       (namdyn_rhg)
!!              6 - Ice advection                      (namdyn_adv)
!!              7 - Ice surface boundary conditions    (namsbc)
!!              8 - Ice thermodynamics                 (namthd)
!!              9 - Ice heat diffusion                 (namthd_zdf)
!!             10 - Ice lateral melting                (namthd_da)
!!             11 - Ice growth in open water           (namthd_do)
!!             12 - Ice salinity                       (namthd_sal)
!!             13 - Ice melt ponds                     (namthd_pnd)
!!             14 - Ice initialization                 (namini)
!!             15 - Ice/snow albedos                   (namalb)
!!             16 - Ice diagnostics                    (namdia)
!!>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
!
!------------------------------------------------------------------------------
&nampar         !   Generic parameters
!------------------------------------------------------------------------------
   jpl              =   5                ! 5 ice categories
   ln_virtual_itd   =   .false.          !  virtual ITD mono-category parameterization (jpl=1 only)
   !                                     !     i.e. enhanced thermal conductivity & virtual thin ice melting
   ln_icethd        = .true.             !  ice thermo   (T) or not (F)
   rn_amax          =   0.999999         !  maximum tolerated ice concentration
   !
   ! E-grid stuff (relevant when `ln_damage=T`):
   ln_damage        = .true.          !  existance of the "ice damage" tracer in the code?
   !                                  !   must be used with brittle rheologies
   !                                  !   => set to .true. if `ln_rhg_BBM==.true.` !!!
/
!------------------------------------------------------------------------------
&namitd         !   Ice discretization
!------------------------------------------------------------------------------
/
!
!------------------------------------------------------------------------------
&namrmp         !   Field point-to-point remapping / interpolation
!------------------------------------------------------------------------------
   ln_use_weno_rmp  = .true.                 !
      !                                      !  when set to True, interpolation estimate of `A` and `h` @ F-points
      !                                      !  is done with WENO5-symetric rather thant the usual 4-surrounding-T-poi nt average...
      !                                      !  => costly but accurate !!!
      cn_rmp_weno_wght = 'WENO5-SYM_weights_HUDSON12.nc'   ! file in which WENO-symetric weights are read
/
!
!------------------------------------------------------------------------------
&namdyn         !   Ice dynamics
!------------------------------------------------------------------------------
   ln_dynALL        = .true.          !  dyn.: full ice dynamics                  (rheology + advection + ridging/rafting + correction)
   ln_dynRHGADV     = .false.         !  dyn.: no ridge/raft & no corrections     (rheology + advection)
   rn_ishlat        =   2.            !  lbc : free slip (0) ; partial slip (0-2) ; no slip (2) ; strong slip (>2)
/
!------------------------------------------------------------------------------
&namdyn_rdgrft  !   Ice ridging/rafting
!------------------------------------------------------------------------------
   rn_delta_ecc     =   2.0           !  eccentricity of the elliptical yield curve to use when computing `delta`
   !                                  !  via the use of the `strain_rate()` function defined inside `icedyn_rhg_util.F90`
   !                                  !  ==> so will only be used when using BBM rheology
   !                                  !  ==> if *EVP rheology is used, is is `rn_ecc` defined in namelist block `&namdyn_rhg`
   !                                  !      that will actually be used
   !                                  !  => overwritten with `rn_ecc` (&namdyn_rhg) when VP rheologies are used
   !                                  !  `rn_delta_ecc = 1` implies that `delta` = `total deformation`
   ! -- ice_rdgrft_strength -- !
   ln_str_H79       = .true.          !  ice strength param.: Hibler_79   => P = pstar*<h>*exp(-c_rhg*A)
      rn_pstar      =   2.0e+04       !     ice strength thickness parameter [N/m2]
      rn_crhg       =  20.0           !     ice strength conc. parameter (-)
   ln_str_R75       = .false.         !  ice strength param.: Rothrock_75 => P = fn of potential energy
      rn_pe_rdg     =  17.0           !     coef accouting for frictional dissipation
   ln_str_smooth    = .true.          !  spatial smoothing of the ice strength
/
!------------------------------------------------------------------------------
&namdyn_rhg     !   Ice rheology
!------------------------------------------------------------------------------
   ln_idealized     = .false.         ! if set to true: Coriolis and SSH tilt terms will be disregarded in the momentum eq.
   !
   ln_rhg_EVP       = .false.         !  EVP rheology
   !                                  !
   ln_rhg_BBM       = .true.          !  BBM rheology
      rn_Nref       = 1.E10           !     upper limit for compressive stress at the reference scale [Pa]
      rn_E0         = 5.9605E8        !     elasticity of undamaged ice [Pa]
      rn_eta0       = 5.9605E15       !     viscosity of undamaged ice [Pa.s] (neXtSIM => rn_lamb0 = 1.E7 s)
      !
      rn_P0         = 1.E4            !     scaling parameter for the ridging threshold (in "P_max")
      !
      rn_kth        = 25.92E6         !     constant for healing of damage [K.s] (Olason et al.,2022 => 15 days for 20 K)
      !                               !     => 15 * 3600s * 24 * 20K
      nn_d_adv      = 1               !     advection of damage @T & @F at big time step
      !                               !        = 0 no advection at all!
      !                               !        = 1 advection of damage only at big time step
      ln_adv_d_pra = .true.           !      use Prather advection scheme to advect damage (and stress components)
      ln_adv_d_wnx = .false.          !      use  WENO order X advection scheme to advect damage (and stress components)
      !                               !
      rn_crndg      = 1.0             ! Cross-Nudging coefficient [-]
      !                               !
      rn_dmg_max     = 0.999999       !     upper-bound value to cap the damage to ! (~ 1 - eps )
      !
/
!------------------------------------------------------------------------------
&namdyn_adv     !   Ice advection
!------------------------------------------------------------------------------
   ln_adv_Pra       = .true.          !  Advection scheme (Prather)
   ln_adv_WNx       = .false.         !  Advection scheme (WENO)
      nn_WNx        =   7             !     order of the scheme for WENO (5 or 7)
      cn_weno_wght  = '<WENO_WGHT>'   !     file in which WENO weights are read
/
!------------------------------------------------------------------------------
&namsbc         !   Ice surface boundary conditions
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namthd         !   Ice thermodynamics
!------------------------------------------------------------------------------
   ln_icedH         = .true.          !  activate ice thickness change from growing/melting (T) or not (F)
   ln_icedA         = .true.          !  activate lateral melting param. (T) or not (F)
   ln_icedO         = .true.          !  activate ice growth in open-water (T) or not (F)
   ln_leadhfx       = .false.          !  heat in the leads is used to melt sea-ice before warming the ocean
/
!------------------------------------------------------------------------------
&namthd_zdf     !   Ice heat diffusion
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namthd_da      !   Ice lateral melting
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namthd_do      !   Ice growth in open water
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namthd_sal     !   Ice salinity
!------------------------------------------------------------------------------
   nn_icesal        =   2             !  ice salinity option
                                      !     1: constant ice salinity (S=rn_icesal)
                                      !     2: varying salinity parameterization S(z,t)
                                      !     3: prescribed salinity profile S(z) (Schwarzacher 1959)
                                      !     4: Gravity Drainage and Flushing
/
!------------------------------------------------------------------------------
&namthd_pnd     !   Melt ponds
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namini         !   Ice initialization
!------------------------------------------------------------------------------
   ln_iceini        = .true.          !  activate ice initialization (T) or not (F)
   nn_iceini_file   = 1      !     0 = Initialise sea ice based on SSTs
                                      !     1 = Initialise sea ice from single category netcdf file
                                      !     2 = Initialise sea ice from multi category restart file
   rn_thres_sst     =   2.0           !  max temp. above Tfreeze with initial ice = (sst - tfreeze)
   rn_hti_ini_n     =   0.5           !  initial ice thickness       (m), North
   rn_hts_ini_n     =   0.1           !  initial snow thickness      (m), North
   rn_ati_ini_n     =   1.0           !  initial ice concentration   (-), North
   rn_dmg_ini_n     =   0.0           !  initial ice damage          (-), North  (if `ln_rhg_BBM`!)
   rn_dmg_ini_s     =   0.0           !        "            "             South  (if `ln_rhg_BBM`!)
   !
   ! -- for nn_iceini_file = 1
   !       !  file name       ! frequency (hours) !  variable   ! time interp.!  clim  ! 'yearly'/ ! weights filename ! rotation ! land/sea mask !
   !       !                  !  (if <0  months)  !    name     !   (logical) !  (T/F) ! 'monthly' !                  ! pairing  !    filename   !
   sn_hti = 'Ice_initialization_GLORYS12_19970101.nc', -12. ,'hti'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_hts = 'Ice_initialization_GLORYS12_19970101.nc', -12. ,'hts'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_ati = 'Ice_initialization_GLORYS12_19970101.nc', -12. ,'ati'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_smi = 'NOT USED'                     , -12. ,'smi'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_tmi = 'NOT USED'                     , -12. ,'tmi'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_tsu = 'NOT USED'                     , -12. ,'tsu'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   sn_tms = 'NOT USED'                     , -12. ,'tms'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   ! BBM:
   sn_dmg = 'Ice_initialization_GLORYS12_19970101.nc', -12. ,'dmg'   ,  .false.  , .true., 'yearly'  , '' , '', ''
   cn_dir='./'
/
!------------------------------------------------------------------------------
&namalb         !   albedo parameters
!------------------------------------------------------------------------------
/
!------------------------------------------------------------------------------
&namdia         !   Diagnostics
!------------------------------------------------------------------------------
/
